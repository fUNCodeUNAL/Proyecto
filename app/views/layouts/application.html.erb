<%
    Struct.new("Error", :error_class, :error_message)

    def check_error(errors, param)
        if errors.include?(param)
            return Struct::Error.new(" has-error", "*"+errors.full_messages_for(param)[0])
        else 
            return Struct::Error.new( "", "" )
        end
    end
%>
<!DOCTYPE html>
<html>
  <head>
    <title>f(UN)Code</title>
    <%= csrf_meta_tags %>
    <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
    <%= javascript_include_tag 'http://code.jquery.com/jquery-3.1.0.min.js' %>
    <%= javascript_include_tag 'http://ajax.googleapis.com/ajax/libs/swfobject/2.2/swfobject.js' %>
  </head>

  <body>
  	<div id="wrapper">

        <!-- Navigation -->
        <nav class="navbar navbar-default navbar-static-top" role="navigation" style="margin-bottom: 0" >
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand"> <%= link_to "f(UN) Code",  pages_index_path, class: "header"  %>  </a>
                <ul class="navbar-brand"> <%= image_tag("unal.jpg", :alt => "Logo", class: "UNLogo") %> </ul>
               
            </div>

            <div class="navbar-default sidebar" role="navigation">
                <div class="sidebar-nav navbar-collapse">
                    <ul class="nav" id="side-menu">
                        <li class="sidebar-search">
                            
                            <%= form_tag search_path, method: 'get' do %>
                            <div class="input-group custom-search-form">
                              <%= text_field_tag :search, params[:search], placeholder: 'Buscar...', class: 'form-control' %>
                              <span class="input-group-btn">
                                <%= button_tag(type: "submit", class: "btn btn-default") do %>
                                    <i class="fa fa-search"></i>
                                <% end %>
                              </span>
                            <% end %>
                            </div>
                            <!-- /input-group -->
                        </li>
                        <% if user_signed_in? %>
                            <li>
                                <%= link_to (" Perfil " + current_user.full_name), '/profile/'+current_user.username, class: "fa fa-bar-chart-o" %>
                            </li>

                            <li>
                                <%= link_to " Submissions ", submissions_user_path(current_user.username), class: "fa fa-upload" %>
                            </li>             
                        <%end%>
                        <li>
                            <%= link_to " Contest ", contest_index_path, class: "fa fa-table" %>
                        </li>
                            <!-- Falta poner la ruta a la lista de problemas -->
                        <li>
                            <%= link_to " Problemas ", problem_index_path, class: "fa fa-product-hunt" %>
                        </li>
                        <% if user_signed_in? %>
                            <li>
                            <%= link_to "Crear Problema ", problem_new_path, class: "fa fa-product-hunt" %>
                            </li>
                            <li>
                                <%= link_to " Grupos ", teacher_groups_show_path, class: "fa fa-heart" %>
                            </li>
                            <li> 
                                <%= link_to " Cerrar sesión", destroy_user_session_path, method: :delete, class: "fa fa-sign-out" %>
                            </li>
                        <% else %>
                            <li> 
                                <%= link_to " Iniciar sesión", new_user_session_path, class: "fa fa-sign-in" %>
                            </li>
                            <li> 
                                <%= link_to " Crear cuenta", new_user_registration_path, class: "fa fa-hand-paper-o" %>
                            </li>
                        <% end %>
                        
                    </ul>
                </div>
                <!-- /.sidebar-collapse -->
            </div>
            <!-- /.navbar-static-side -->
        </nav>

        <div id="page-wrapper">
            <div class="row">
                <div class="col-lg-12">
                <% if notice %>
                    <p class="alert alert-success"><%= notice %></p>
                <% end %>
                <% if alert %>
                    <p class="alert alert-danger"><%= alert %></p>
                <% end %>
                    <%= yield %>
                </div>
            </div>
        </div>

    </div>

    
  </body>
</html>
